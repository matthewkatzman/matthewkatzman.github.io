Return [Home](https://matthewkatzman.github.io/notes/notes.html)

# Karp Lipton Theorems

## <img src="/notes/background/tex/e2ea0a62148bc5b64200834dcce2b02d.svg?invert_in_darkmode&sanitize=true" align="middle" width="206.683719pt" height="27.72066330000001pt"/>

Proof Sketch: This is shown by proving <img src="/notes/background/tex/2a53b91f9bbf45303c8c24add3e45e2a.svg?invert_in_darkmode&sanitize=true" align="middle" width="71.40604679999998pt" height="27.72066330000001pt"/>, implying a collapse of the polynomial hierarchy to the second level.  We take the statement "<img src="/notes/background/tex/332cc365a4987aacce0ead01b8bdcc0b.svg?invert_in_darkmode&sanitize=true" align="middle" width="9.39498779999999pt" height="14.15524440000002pt"/> is in <img src="/notes/background/tex/ddcb483302ed36a59286424aa5e0be17.svg?invert_in_darkmode&sanitize=true" align="middle" width="11.18724254999999pt" height="22.465723500000017pt"/> if and only if *for every* <img src="/notes/background/tex/deceeaf6940a8c7a5a02373728002b0f.svg?invert_in_darkmode&sanitize=true" align="middle" width="8.649225749999989pt" height="14.15524440000002pt"/> of polynomial length *there exists some* <img src="/notes/background/tex/f93ce33e511096ed626b4719d50f17d2.svg?invert_in_darkmode&sanitize=true" align="middle" width="8.367621899999993pt" height="14.15524440000002pt"/> of polynomial length such that <img src="/notes/background/tex/a35d9ea85439dede6d90c9f53db8be8c.svg?invert_in_darkmode&sanitize=true" align="middle" width="53.80901294999998pt" height="24.65753399999998pt"/> satisfies some polynomial relationship.  We want to use our assumptions and the properties of <img src="/notes/background/tex/95d4aeb7638140fd70ba48c1d0a76c2d.svg?invert_in_darkmode&sanitize=true" align="middle" width="25.890204449999988pt" height="20.09134050000002pt"/> to turn that into the statement "<img src="/notes/background/tex/332cc365a4987aacce0ead01b8bdcc0b.svg?invert_in_darkmode&sanitize=true" align="middle" width="9.39498779999999pt" height="14.15524440000002pt"/> is in <img src="/notes/background/tex/ddcb483302ed36a59286424aa5e0be17.svg?invert_in_darkmode&sanitize=true" align="middle" width="11.18724254999999pt" height="22.465723500000017pt"/> if and only if *there exists some* circuit family <img src="/notes/background/tex/472992d46a71981edd1dea7c131bd026.svg?invert_in_darkmode&sanitize=true" align="middle" width="37.135200299999994pt" height="24.65753399999998pt"/> that correctly calculates <img src="/notes/background/tex/95d4aeb7638140fd70ba48c1d0a76c2d.svg?invert_in_darkmode&sanitize=true" align="middle" width="25.890204449999988pt" height="20.09134050000002pt"/> *on every* instance of length <img src="/notes/background/tex/55a049b8f161ae7cfeb0197d75aff967.svg?invert_in_darkmode&sanitize=true" align="middle" width="9.86687624999999pt" height="14.15524440000002pt"/> and accepts <img src="/notes/background/tex/332cc365a4987aacce0ead01b8bdcc0b.svg?invert_in_darkmode&sanitize=true" align="middle" width="9.39498779999999pt" height="14.15524440000002pt"/>.

*Proof:* Assume that <img src="/notes/background/tex/e2f37360d006826b4593a2561ffc4aa2.svg?invert_in_darkmode&sanitize=true" align="middle" width="107.97883799999998pt" height="24.65753399999998pt"/> and take some language <img src="/notes/background/tex/110092bfc479cdf57fe77f8102448dd2.svg?invert_in_darkmode&sanitize=true" align="middle" width="56.18241089999998pt" height="27.72066330000001pt"/>.  There exists some polynomial-time relation <img src="/notes/background/tex/1e438235ef9ec72fc51ac5025516017c.svg?invert_in_darkmode&sanitize=true" align="middle" width="12.60847334999999pt" height="22.465723500000017pt"/> such that

<img src="/notes/background/tex/ba704a680a3a6a2032982d52c87c2b27.svg?invert_in_darkmode&sanitize=true" align="middle" width="189.80616599999996pt" height="27.72066330000001pt"/>.

Considering just the existential piece, we note that

<img src="/notes/background/tex/e33567d181c07d7773516075da6dd0fe.svg?invert_in_darkmode&sanitize=true" align="middle" width="94.84904714999998pt" height="27.72066330000001pt"/> is just an instance of <img src="/notes/background/tex/95d4aeb7638140fd70ba48c1d0a76c2d.svg?invert_in_darkmode&sanitize=true" align="middle" width="25.890204449999988pt" height="20.09134050000002pt"/>.

Thus we can rewrite

<img src="/notes/background/tex/9baf62cfd52fec8a13f021a54da706af.svg?invert_in_darkmode&sanitize=true" align="middle" width="181.58566139999996pt" height="27.72066330000001pt"/>

where <img src="/notes/background/tex/e00e75871b4e789e5c465fdab29fa79a.svg?invert_in_darkmode&sanitize=true" align="middle" width="47.95292369999999pt" height="24.65753399999998pt"/> is a boolean formula of polynomial-length.

Now, because <img src="/notes/background/tex/e2f37360d006826b4593a2561ffc4aa2.svg?invert_in_darkmode&sanitize=true" align="middle" width="107.97883799999998pt" height="24.65753399999998pt"/>, we know that <img src="/notes/background/tex/95d4aeb7638140fd70ba48c1d0a76c2d.svg?invert_in_darkmode&sanitize=true" align="middle" width="25.890204449999988pt" height="20.09134050000002pt"/> has polynomial-sized circuits.  Here we rely on the downward self-reducability of <img src="/notes/background/tex/95d4aeb7638140fd70ba48c1d0a76c2d.svg?invert_in_darkmode&sanitize=true" align="middle" width="25.890204449999988pt" height="20.09134050000002pt"/>.  Using the search-decision reduction, we can construct, from a circuit family <img src="/notes/background/tex/472992d46a71981edd1dea7c131bd026.svg?invert_in_darkmode&sanitize=true" align="middle" width="37.135200299999994pt" height="24.65753399999998pt"/> computing <img src="/notes/background/tex/95d4aeb7638140fd70ba48c1d0a76c2d.svg?invert_in_darkmode&sanitize=true" align="middle" width="25.890204449999988pt" height="20.09134050000002pt"/>, a circuit family <img src="/notes/background/tex/a0c605053abc19ea22e513ed97685212.svg?invert_in_darkmode&sanitize=true" align="middle" width="37.135200299999994pt" height="24.7161288pt"/> computing satisfying assignments to <img src="/notes/background/tex/95d4aeb7638140fd70ba48c1d0a76c2d.svg?invert_in_darkmode&sanitize=true" align="middle" width="25.890204449999988pt" height="20.09134050000002pt"/>, which exists *if and only if* <img src="/notes/background/tex/e00e75871b4e789e5c465fdab29fa79a.svg?invert_in_darkmode&sanitize=true" align="middle" width="47.95292369999999pt" height="24.65753399999998pt"/> was satisfiable, and can then be verified in polynomial time with verifier <img src="/notes/background/tex/a9a3a4a202d80326bda413b5562d5cd1.svg?invert_in_darkmode&sanitize=true" align="middle" width="13.242037049999992pt" height="22.465723500000017pt"/>.  So, since we require the existence of such a satisfying assignment for every <img src="/notes/background/tex/deceeaf6940a8c7a5a02373728002b0f.svg?invert_in_darkmode&sanitize=true" align="middle" width="8.649225749999989pt" height="14.15524440000002pt"/> (of bounded length), we see

<img src="/notes/background/tex/afa5df436426b71e7d3185ea72347016.svg?invert_in_darkmode&sanitize=true" align="middle" width="382.2961824pt" height="27.72066330000001pt"/>.

Thus <img src="/notes/background/tex/721801a427a1ffcbbe0d0ade02bf9f2a.svg?invert_in_darkmode&sanitize=true" align="middle" width="55.04085509999999pt" height="27.72066330000001pt"/>, so <img src="/notes/background/tex/2a53b91f9bbf45303c8c24add3e45e2a.svg?invert_in_darkmode&sanitize=true" align="middle" width="71.40604679999998pt" height="27.72066330000001pt"/>, and <img src="/notes/background/tex/87ccffb0140c270eaae25d15eb0ec773.svg?invert_in_darkmode&sanitize=true" align="middle" width="73.39685594999999pt" height="27.72066330000001pt"/> as we desired.

## <img src="/notes/background/tex/27693d5c2e07ee4c7f66b77f7329e2c5.svg?invert_in_darkmode&sanitize=true" align="middle" width="308.9479602pt" height="24.65753399999998pt"/>

## <img src="/notes/background/tex/12401e2cd3e93d9b7e32b19cd689df3f.svg?invert_in_darkmode&sanitize=true" align="middle" width="230.51918504999998pt" height="27.72066330000001pt"/>

*Proof:* (For simplicity we assume a <img src="/notes/background/tex/034d0a6be0424bffe9a6e7ac9236c0f5.svg?invert_in_darkmode&sanitize=true" align="middle" width="8.219209349999991pt" height="21.18721440000001pt"/>-tape Turing Machine model).  Assume that <img src="/notes/background/tex/6115b156313e324c5d517d817d1581a7.svg?invert_in_darkmode&sanitize=true" align="middle" width="119.89657019999999pt" height="24.65753399999998pt"/>, and take any language <img src="/notes/background/tex/1378345c5197bba59b7cc841195b27e4.svg?invert_in_darkmode&sanitize=true" align="middle" width="70.91287664999999pt" height="22.55708729999998pt"/>.  The aim is to show that <img src="/notes/background/tex/721801a427a1ffcbbe0d0ade02bf9f2a.svg?invert_in_darkmode&sanitize=true" align="middle" width="55.04085509999999pt" height="27.72066330000001pt"/>.  Because <img src="/notes/background/tex/1378345c5197bba59b7cc841195b27e4.svg?invert_in_darkmode&sanitize=true" align="middle" width="70.91287664999999pt" height="22.55708729999998pt"/>, there is an exponential-time Turing Machine <img src="/notes/background/tex/fb97d38bcc19230b0acd442e17db879c.svg?invert_in_darkmode&sanitize=true" align="middle" width="17.73973739999999pt" height="22.465723500000017pt"/> that solves <img src="/notes/background/tex/ddcb483302ed36a59286424aa5e0be17.svg?invert_in_darkmode&sanitize=true" align="middle" width="11.18724254999999pt" height="22.465723500000017pt"/> (say it runs in time <img src="/notes/background/tex/3d425a215e8eeb2a056f553633aaae4a.svg?invert_in_darkmode&sanitize=true" align="middle" width="32.46972299999999pt" height="24.65753399999998pt"/>).  The key insight is that, from <img src="/notes/background/tex/fb97d38bcc19230b0acd442e17db879c.svg?invert_in_darkmode&sanitize=true" align="middle" width="17.73973739999999pt" height="22.465723500000017pt"/>, we can create an exponential-time Turing Machine <img src="/notes/background/tex/0f2499041fc1b61072cd553b4a1deed7.svg?invert_in_darkmode&sanitize=true" align="middle" width="21.529676849999987pt" height="24.7161288pt"/> that takes input <img src="/notes/background/tex/27dbdfe5f5f3b8db5db1237388466966.svg?invert_in_darkmode&sanitize=true" align="middle" width="48.391511849999986pt" height="24.65753399999998pt"/> and decides whether or not the <img src="/notes/background/tex/2816079e0c533ee8a8148e5215141fe3.svg?invert_in_darkmode&sanitize=true" align="middle" width="18.06055514999999pt" height="27.91243950000002pt"/> position of the configuration of <img src="/notes/background/tex/fb97d38bcc19230b0acd442e17db879c.svg?invert_in_darkmode&sanitize=true" align="middle" width="17.73973739999999pt" height="22.465723500000017pt"/> at timestep <img src="/notes/background/tex/4f4f4e395762a3af4575de74c019ebb5.svg?invert_in_darkmode&sanitize=true" align="middle" width="5.936097749999991pt" height="20.221802699999984pt"/> is a <img src="/notes/background/tex/034d0a6be0424bffe9a6e7ac9236c0f5.svg?invert_in_darkmode&sanitize=true" align="middle" width="8.219209349999991pt" height="21.18721440000001pt"/> (<img src="/notes/background/tex/0f2499041fc1b61072cd553b4a1deed7.svg?invert_in_darkmode&sanitize=true" align="middle" width="21.529676849999987pt" height="24.7161288pt"/> can simply simulate <img src="/notes/background/tex/fb97d38bcc19230b0acd442e17db879c.svg?invert_in_darkmode&sanitize=true" align="middle" width="17.73973739999999pt" height="22.465723500000017pt"/> for <img src="/notes/background/tex/cd0e6df8b2551b737fd6812836f9c06f.svg?invert_in_darkmode&sanitize=true" align="middle" width="79.26763019999999pt" height="29.190975000000005pt"/> timesteps).  So <img src="/notes/background/tex/0f2499041fc1b61072cd553b4a1deed7.svg?invert_in_darkmode&sanitize=true" align="middle" width="21.529676849999987pt" height="24.7161288pt"/> solves a language <img src="/notes/background/tex/18124110dd73f50285f850509c9c50a8.svg?invert_in_darkmode&sanitize=true" align="middle" width="75.52475039999999pt" height="24.7161288pt"/>, and thus there is a circuit <img src="/notes/background/tex/a9fdc971932e63d198992ec489fb6753.svg?invert_in_darkmode&sanitize=true" align="middle" width="91.36023269999998pt" height="24.65753399999998pt"/> (by the initial assumption) that solves <img src="/notes/background/tex/14a8e34e78d632b45dbc4d7314846b38.svg?invert_in_darkmode&sanitize=true" align="middle" width="14.977205099999992pt" height="24.7161288pt"/>.

From here, the argument follows along the same lines as Cook-Levin.  Because computation is local, verifying correctness of <img src="/notes/background/tex/c268a0a84fcb610a3e240f4938e6eff9.svg?invert_in_darkmode&sanitize=true" align="middle" width="61.31614829999998pt" height="24.65753399999998pt"/> requires checking a constant number of other bits (it depends on the encoding, but one must check the the state, head location, and bits <img src="/notes/background/tex/6f471fb05a43809706b83a28f399076c.svg?invert_in_darkmode&sanitize=true" align="middle" width="33.97362704999999pt" height="21.68300969999999pt"/>, <img src="/notes/background/tex/77a3b857d53fb44e33b53e4c8b68351a.svg?invert_in_darkmode&sanitize=true" align="middle" width="5.663225699999989pt" height="21.68300969999999pt"/>, and <img src="/notes/background/tex/48a0115fc523b1aae58ade9e16001f59.svg?invert_in_darkmode&sanitize=true" align="middle" width="33.97362704999999pt" height="21.68300969999999pt"/> at time <img src="/notes/background/tex/92b263e78e9de2e962015cb0cf34e0d1.svg?invert_in_darkmode&sanitize=true" align="middle" width="34.24649744999999pt" height="21.18721440000001pt"/>) to ensure that the circuit correctly encodes a given step of the computation of <img src="/notes/background/tex/fb97d38bcc19230b0acd442e17db879c.svg?invert_in_darkmode&sanitize=true" align="middle" width="17.73973739999999pt" height="22.465723500000017pt"/>.  Furthermore, if <img src="/notes/background/tex/facf9f70b8df89964deb08da1987d801.svg?invert_in_darkmode&sanitize=true" align="middle" width="69.45589859999998pt" height="24.65753399999998pt"/>, then a verifier is also required to ensure that the state encoded is accepting.  Calling the verifier that carries out this computation <img src="/notes/background/tex/a9a3a4a202d80326bda413b5562d5cd1.svg?invert_in_darkmode&sanitize=true" align="middle" width="13.242037049999992pt" height="22.465723500000017pt"/> (which we note runs in polynomial time in the size of <img src="/notes/background/tex/9b325b9e31e85137d1de765f43c0f8bc.svg?invert_in_darkmode&sanitize=true" align="middle" width="12.92464304999999pt" height="22.465723500000017pt"/> (and encoding <img src="/notes/background/tex/77a3b857d53fb44e33b53e4c8b68351a.svg?invert_in_darkmode&sanitize=true" align="middle" width="5.663225699999989pt" height="21.68300969999999pt"/> and <img src="/notes/background/tex/4f4f4e395762a3af4575de74c019ebb5.svg?invert_in_darkmode&sanitize=true" align="middle" width="5.936097749999991pt" height="20.221802699999984pt"/> in binary so that they are polynomial in length), we can say

<img src="/notes/background/tex/08c999324acf0bdc3ce72a69469a34f1.svg?invert_in_darkmode&sanitize=true" align="middle" width="301.4057772pt" height="27.72066330000001pt"/>.

Because all of these predicates are polynomial in length and <img src="/notes/background/tex/a9a3a4a202d80326bda413b5562d5cd1.svg?invert_in_darkmode&sanitize=true" align="middle" width="13.242037049999992pt" height="22.465723500000017pt"/> runs in polynomial time, this gives us <img src="/notes/background/tex/76bd6ddad40e8abd034b3b9f283289cb.svg?invert_in_darkmode&sanitize=true" align="middle" width="85.31458814999999pt" height="27.72066330000001pt"/>, so <img src="/notes/background/tex/12401e2cd3e93d9b7e32b19cd689df3f.svg?invert_in_darkmode&sanitize=true" align="middle" width="230.51918504999998pt" height="27.72066330000001pt"/> as we desired.
